<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casting</title>
</head>
<body>
    <h1>Casting</h1>
    <p>
        Kadang-kadang ketika bekerja dengan tipe, kita perlu untuk menimpa tipe dari sebuah variabel, misalkan jika tipe yang diberikan oleh suatu library tidak cocok dengan kebutuhan kita. Casting adalah proses untuk menimpa tipe data.
    </p>

    <h2>Casting dengan as</h2>
    <p>
        Sebuah cara langsung untuk melakukan casting adalah dengan menggunakan kata kunci "as", yang akan secara langsung mengubah tipe data variabel.
    </p>
    <pre>
        console.log((x as string).length);
        let x: unknown = 'hello';
    </pre>
    <p> Casting tiak benar-benar mengubah tipe data dari variabel. Kode dibawah tidak akan bekerja seperti yang diinginkan karena x masih tetap berupa number</p>
    <pre>
        let x: unknown = 4;
        console.log((x as string).length); // prints undefined since numbers don't have a length
    </pre>
    <p>
        Typescript akan tetap mengecek tipe data dari variabel yang akan dicasting untuk mencegah proses casting yang tidak benar. Contoh dibawah adalah proses yang akan melemparkan error karena Typescript mengetahui bahwa melakukan casting dari string ke number tidak masuk akal tanpa mengubah datanya.
    </p>
    <pre>
        console.log((4 as string).length); // Error: Conversion of type 'number' to type 'string' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
    </pre>

    <h2>Casting dengan &lt;&gt;</h2>
    <p>
        Menggunakan &lt; &gt; bekerja mirip dengan menggunakan as.
    </p>
    <pre>
        let x: unknown = 'hello';
        console.log((&lt;string&gt;x).length);
    </pre>
    <p>
        Proses casting dengan &lt; &gt; akan menimpa tipe data dari variabel dan tipe casting ini tidak berlaku di file react.
    </p>

    <h2>Casting paksaan</h2>
    <p>
        Untuk menimpa tipe error yang akan dilemparkan oleh Typescript dalam proses casting, pertama perlu dilakukan casting ke unknown dan kemudian di casting ke tipe target.
    </p>
    <pre>
        let x = 'hello';
        console.log(((x as unknown) as number).length); // x is not actually a number so this will return undefined
    </pre>

    

    

</body>
</html>